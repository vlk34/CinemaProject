<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.chart.LineChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>

<ScrollPane fitToWidth="true" style="-fx-background: #F5F7FA; -fx-background-color: #F5F7FA;"
            xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.group18.controller.manager.ManagerRevenueController">
    <VBox spacing="20" style="-fx-background-color: #F5F7FA;">
        <padding>
            <Insets top="30" right="40" bottom="30" left="40"/>
        </padding>

        <!-- Header with User Info -->
        <HBox alignment="CENTER_RIGHT" spacing="20">
            <Label text="Welcome, Manager" style="-fx-font-size: 18px;"/>
            <ImageView fitHeight="40.0" fitWidth="40.0">
                <Image url="@../../images/inventory.png"/>
            </ImageView>
        </HBox>

        <!-- Quick Stats Cards -->
        <FlowPane hgap="20" vgap="20">
            <!-- Revenue Card -->
            <VBox styleClass="stat-card" style="-fx-background-color: white; -fx-background-radius: 10;"
                  minWidth="280" prefWidth="300" maxWidth="350" minHeight="120">
                <padding>
                    <Insets top="15" right="20" bottom="15" left="20"/>
                </padding>
                <Label text="Total Revenue" style="-fx-font-size: 16px; -fx-text-fill: #666;"/>
                <Label text="USD 24,500" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>
                <Label text="+12.5% from last month" style="-fx-text-fill: #2ECC71;"/>
            </VBox>

            <!-- Tickets Card -->
            <VBox styleClass="stat-card" style="-fx-background-color: white; -fx-background-radius: 10;"
                  minWidth="280" prefWidth="300" maxWidth="350" minHeight="120">
                <padding>
                    <Insets top="15" right="20" bottom="15" left="20"/>
                </padding>
                <Label text="Tickets Sold" style="-fx-font-size: 16px; -fx-text-fill: #666;"/>
                <Label text="1,240" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>
                <Label text="+8.3% from last month" style="-fx-text-fill: #2ECC71;"/>
            </VBox>

            <!-- Products Card -->
            <VBox styleClass="stat-card" style="-fx-background-color: white; -fx-background-radius: 10;"
                  minWidth="280" prefWidth="300" maxWidth="350" minHeight="120">
                <padding>
                    <Insets top="15" right="20" bottom="15" left="20"/>
                </padding>
                <Label text="Products Sold" style="-fx-font-size: 16px; -fx-text-fill: #666;"/>
                <Label text="856" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>
                <Label text="+15.2% from last month" style="-fx-text-fill: #2ECC71;"/>
            </VBox>

            <!-- Tax Card -->
            <VBox styleClass="stat-card" style="-fx-background-color: white; -fx-background-radius: 10;"
                  minWidth="280" prefWidth="300" maxWidth="350" minHeight="120">
                <padding>
                    <Insets top="15" right="20" bottom="15" left="20"/>
                </padding>
                <Label text="Tax Amount" style="-fx-font-size: 16px; -fx-text-fill: #666;"/>
                <Label text="USD 4,900" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>
                <Label text="Due in 15 days" style="-fx-text-fill: #E74C3C;"/>
            </VBox>
        </FlowPane>

        <!-- Charts Section -->
        <FlowPane hgap="20" vgap="20">
            <!-- Revenue Chart -->
            <VBox style="-fx-background-color: white; -fx-background-radius: 10;"
                  minWidth="600" prefWidth="800" minHeight="400">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>
                <Label text="Revenue Trends" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                <LineChart fx:id="revenueChart" VBox.vgrow="ALWAYS">
                    <xAxis>
                        <CategoryAxis label="Month"/>
                    </xAxis>
                    <yAxis>
                        <NumberAxis label="Revenue (USD)" tickUnit="5000"/>
                    </yAxis>
                </LineChart>
            </VBox>

            <!-- Inventory Status -->
            <VBox style="-fx-background-color: white; -fx-background-radius: 10;"
                  minWidth="300" prefWidth="400" minHeight="400">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>
                <Label text="Revenue Details" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                <TableView fx:id="revenueTable" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="dateColumn" text="Date" prefWidth="100"/>
                        <TableColumn fx:id="typeColumn" text="Type" prefWidth="100"/>
                        <TableColumn fx:id="amountColumn" text="Amount" prefWidth="100"/>
                    </columns>
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                    </columnResizePolicy>
                </TableView>
            </VBox>
        </FlowPane>
    </VBox>
</ScrollPane>